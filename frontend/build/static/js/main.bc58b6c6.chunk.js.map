{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","utils/constants.js","utils/Auth.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/Register.js","components/Login.js","images/ok.svg","images/error.svg","components/InfoToolTip.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","loggedIn","email","onClick","signOut","to","linkName","Footer","CurrentUserContext","React","createContext","Card","card","onCardClick","onLikeClick","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","type","src","link","alt","name","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","onCardLike","PopupWithForm","isOpen","onMouseDown","onClickPopup","title","onClose","id","onSubmit","children","titleOfButton","ImagePopup","onPopupClick","api","document","querySelector","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","statusText","URL","path","join","href","console","log","fetch","method","then","_checkRequest","data","body","JSON","stringify","cardId","authorization","auth","password","token","EditAvatarPopup","inputWithSource","useRef","useEffect","current","value","e","preventDefault","onUpdateAvatar","ref","placeholder","required","EditProfilePopup","useState","setName","description","setDescription","onUpdateUser","minLength","maxLength","onChange","target","AddPlacePopup","place","setPlace","source","setSource","Register","setPassword","setEmail","onRegister","Login","onAuthorization","InfoToolTip","isAuthorization","error","ProtectedRoute","Component","component","App","isEditProfilePopupOpen","setProfilePopupStatus","isAddPlacePopupOpen","setEditPopupStatus","isEditAvatarPopupOpen","setAvatarPopupStatus","isInfoPopupOpen","setInfoPopupStatus","isRequestAuthStatus","setRequestAuthStatus","selectedCard","setSelectedCard","setUser","setLoggedStatus","setCards","navigation","useNavigate","closeAllPopups","handleClickPopup","evt","classList","contains","getInitialCards","catch","err","getInfoUserOfServ","localStorage","getItem","getContent","checkToken","handleEsc","key","addEventListener","Provider","element","removeItem","likeCard","newCard","state","c","deleteCard","filter","item","authorize","setItem","register","finally","setNewCard","setNewUserInfo","setAvatar","isClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.bc58b6c6.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\"></div>\r\n      {(props.loggedIn) ?\r\n   \r\n        (<div className='header__text-wrapper'>\r\n        <span className='header__mail'>{props.email}</span>\r\n        <p className=\"header__text\"><button onClick={props.signOut} className='header__button '>Выйти</button></p>\r\n        </div>) :\r\n        (<Link className=\"header__text\" to={props.to}>{props.linkName}</Link>)\r\n      }\r\n    </header>\r\n  );\r\n}\r\nexport default Header;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copiright\">© 2021. Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\nexport default Footer;\r\n","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nexport default function Card({ card, onCardClick, onLikeClick, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext); //монтируем глобальный стэйт\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = `place__like-button ${isLiked && 'place__like-button_active'}`;\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n  function handleLikeClick() {\r\n    onLikeClick(card);\r\n  }\r\n  return (\r\n    <article className=\"place\">\r\n      {isOwn && <button className=\"place__trash-button\" type=\"button\" onClick={handleDeleteClick}></button>}\r\n\r\n      <img\r\n        className=\"place__img\"\r\n        src={card.link}\r\n        alt={card.name}\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"place__name\">\r\n        <p className=\"place__paragraf\">{card.name}</p>\r\n        <div className=\"place__like-group\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n          <span className=\"place__like-amount\">{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nexport default function Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\" onClick={props.onEditAvatar}>\r\n          <img className=\"profile__img\" alt=\"аватар\" src={currentUser.avatar} />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__name\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button\r\n              className=\"profile__open-popup\"\r\n              type=\"button\"\r\n              onClick={props.onEditProfile}\r\n            ></button>\r\n          </div>\r\n          <p className=\"profile__specification\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__adding-button\"\r\n          type=\"button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"places\">\r\n        {props.cards.map((card) => {\r\n          return (\r\n            <Card key={card._id} card={card} onCardClick={props.onCardClick} onLikeClick={props.onCardLike}\r\n              onCardDelete={props.onCardDelete} />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","export default function PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\" : \" \"\r\n        }`}\r\n      onMouseDown={props.onClickPopup}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <button\r\n          className={`popup__reset-button popup__reset-button_type_${props.name}`}\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <form\r\n          id=\"profile-form\"\r\n          className={`popup__form popup__form_${props.name}`}\r\n          name={`${props.name}__form`}\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          {props.children}\r\n          <button className=\"popup__submit-button\" type=\"submit\">\r\n            {props.titleOfButton}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","export default function ImagePopup({ card, onClose, onPopupClick }) {\r\n  return (\r\n    <section\r\n      className={`popup popup_type_image ${card ? \"popup_opened\" : \" \"}`}\r\n      onClick={onPopupClick}\r\n    >\r\n      <div className=\"popup__content\">\r\n        <img\r\n          className=\"popup__large-image\"\r\n          alt={card ? card.name : \"\"}\r\n          src={card ? card.link : \"\"}\r\n        />\r\n        <p className=\"popup__subtitle\">{card ? card.name : \"\"}</p>\r\n        <button\r\n          className=\"popup__reset-button popup__reset-button_type_image\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        ></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import path from 'path';\nimport {configConnection} from \"./constants\";\nclass Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _checkRequest(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.statusText);\n    }\n  }\n  getInitialCards() {\n    const url = new URL(path.join('cards'), this._url).href;\n    console.log(url);\n     return fetch(url, {\n       method: \"GET\",\n       headers: this._headers,\n     }).then(this._checkRequest);\n   }\n\n   getInfoUserOfServ() {\n    const url = new URL(path.join('users', 'me'), this._url).href;\n    return fetch(url, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then(this._checkRequest);\n  }\n\n  setNewUserInfo(data) {\n    const url = new URL(path.join('users', 'me'), this._url).href;\n    return fetch(url, {\n      method: \"PATCH\",\n      body: JSON.stringify({ name: data.name, about: data.about }),\n      headers: this._headers,\n    }).then(this._checkRequest);\n  }\n\n  setNewCard(body) {\n    const url = new URL(path.join('cards'), this._url).href;\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(body),\n      headers: this._headers,\n    }).then(this._checkRequest);\n  }\n  likeCard(cardId, isLiked) {\n    const url = new URL(path.join('cards', 'likes', cardId), this._url).href;\n    return fetch(url, {\n      method: isLiked ? \"DELETE\" : \"PUT\",\n      headers: this._headers,\n    })\n      .then(this._checkRequest);\n  }\n  setAvatar(avatar) {\n    const url = new URL(path.join('users', 'me', 'avatar'), this._url).href;\n    return fetch(url, {\n      method: \"PATCH\",\n      body: JSON.stringify(avatar),\n      headers: this._headers,\n    })\n      .then(this._checkRequest)\n\n  }\n  deleteCard(cardId) {\n    const url = new URL(path.join('cards', cardId), this._url).href;\n    return fetch(url, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._checkRequest);\n  }\n \n}\n\nconst api = new Api(configConnection);\nexport { api };\n\n","const config = {\n  formSelector: '.popup__form',\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__submit-button',\n  inactiveButtonClass: 'popup__submit-button_disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__error_visible',\n}\nconst configConnection = {\n  url: 'https://mesto.nomoreparties.co/v1/cohort-29/',\n  headers: {\n    authorization: '1b533183-cd0b-49d7-a8aa-3f93cdc1c349',\n    'Content-Type': 'application/json'\n  }\n}\nconst authConfigConnection ={\n  url: 'https://auth.nomoreparties.co/',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n}\nconst cardsTemplateSelector = 'place-card';\nconst containerSelector = '.places';\nconst closeButtonSelector = '.popup__reset-button';\nconst openedPopupSelector ='popup_opened';\nconst largeImageSelector= '.popup__large-image';\nconst popupSumtitleSelector ='.popup__subtitle';\nconst inputName = document.querySelector('.popup__input_type_name');\nconst inputGob = document.querySelector('.popup__input_type_specification');\nconst formEditProfile = document.querySelector('.popup__form_profile');\nconst formNewPlace = document.querySelector('.popup__form_place');\nconst formEditAvatar=document.querySelector('.popup_type_change-avatar')\n\nexport { config, configConnection,authConfigConnection, cardsTemplateSelector, containerSelector, largeImageSelector, popupSumtitleSelector,\n  closeButtonSelector, openedPopupSelector, inputName, inputGob, formEditProfile, formNewPlace, formEditAvatar};","import path from 'path';\nimport { authConfigConnection } from \"./constants\";\nclass Auth {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n  _checkRequest(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.statusText);\n    }\n  }\n  register({ password, email }) {\n    const url = new URL(path.join('signup'), this._url).href;\n    return fetch(url, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({ password, email })\n    }).then(this._checkRequest);\n  } ;\n\n  authorize({ password, email }) {\n    const url = new URL(path.join('signin'), this._url).href;\n    return fetch(url, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({ password, email }),\n    })\n      .then(this._checkRequest);\n  }\n  getContent(token) {\n    const url = new URL(path.join('users', 'me'), this._url).href;\n    return fetch(url, {\n      method: 'GET',\n      headers: {\n        ...this._headers,\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n      .then(this._checkRequest);\n  }\n}\nconst auth = new Auth(authConfigConnection);\nexport { auth };","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nexport default function EditAvatarPopup(props) {\r\n  const inputWithSource = React.useRef(); // записываем объект, возвращаемый хуком, в переменную\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: inputWithSource.current.value,\r\n    });\r\n  }\r\n  React.useEffect(() => {\r\n    inputWithSource.current.value=''\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onClickPopup={props.onClickPopup}\r\n      onSubmit={handleSubmit}\r\n      name=\"change-avatar\"\r\n      title=\"Обновить аватар\"\r\n      titleOfButton=\"Сохранить\"\r\n    >\r\n      <input\r\n        ref={inputWithSource}  \r\n        className=\"popup__input popup__input_type_avatar\"\r\n        name=\"avatar\"\r\n        type=\"url\"\r\n        placeholder=\"Введите адрес аватара\"\r\n        required\r\n      />\r\n      <span className=\"popup__error popup__error_visible\" id=\"avatar-error\">\r\n        Введите адрес сайта\r\n      </span>\r\n    </PopupWithForm>)\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nexport default function EditProfilePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  //подписка на контекст\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    })\r\n  }\r\n\r\n  // После загрузки текущего пользователя из API\r\n  // его данные будут использованы в управляемых компонентах.\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onClickPopup={props.onClickPopup}\r\n      onSubmit={handleSubmit}\r\n      name=\"profile\"\r\n      title=\"Обновить профиль\"\r\n      titleOfButton=\"Сохранить\"\r\n    >\r\n      <input\r\n        className=\"popup__input popup__input_type_name\"\r\n        name=\"name\"\r\n        type=\"text\"\r\n        placeholder=\"Ваше имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        value={name || ''}\r\n        onChange={handleChangeName}\r\n        required\r\n      />\r\n      <span className=\"popup__error\" id=\"name-error\">\r\n        Вы пропустили это поле\r\n      </span>\r\n      <input\r\n        className=\"popup__input popup__input_type_specification\"\r\n        name=\"about\"\r\n        type=\"text\"\r\n        placeholder=\"Ваша специальность\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        value={description || ''}\r\n        onChange={handleChangeDescription}\r\n        required\r\n      />\r\n      <span className=\"popup__error\" id=\"about-error\">\r\n        Вы пропустили это поле\r\n      </span>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nexport default function AddPlacePopup(props) {\r\n  const [place, setPlace] = React.useState('');\r\n  const [source, setSource] = React.useState('');\r\n  function handleChangePlace(e) {\r\n    setPlace(e.target.value);\r\n  }\r\n  function handleChangeSource(e) {\r\n    setSource(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({ name: place, link: source })\r\n  }\r\n  React.useEffect(() => {\r\n    setPlace('');\r\n    setSource('');\r\n  }, [props.isOpen]);\r\n\r\n  return (<PopupWithForm\r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    onClickPopup={props.onClickPopup}\r\n    onSubmit={handleSubmit}\r\n    name=\"place\"\r\n    title=\"Новое место\"\r\n    titleOfButton=\"Сохранить\"\r\n  >\r\n    <input\r\n      className=\"popup__input popup__input_type_place\"\r\n      name=\"place\"\r\n      type=\"text\"\r\n      placeholder=\"Название\"\r\n      minLength=\"2\"\r\n      maxLength=\"30\"\r\n      value={place || ''}\r\n      onChange={handleChangePlace}\r\n      required\r\n    />\r\n    <span className=\"popup__error popup__error_visible\" id=\"place-error\">\r\n      Вы пропустили это поле\r\n    </span>\r\n    <input\r\n      className=\"popup__input popup__input_type_link\"\r\n      name=\"link\"\r\n      type=\"url\"\r\n      placeholder=\"Ссылка на картинку\"\r\n      value={source || ''}\r\n      onChange={handleChangeSource}\r\n      required\r\n    />\r\n    <span className=\"popup__error popup__error_visible\" id=\"link-error\">\r\n      Введите адрес сайта\r\n    </span>\r\n  </PopupWithForm>)\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nexport default function Register(props) {\r\n  const [password, setPassword] = React.useState('');\r\n  const [email, setEmail] = React.useState('');\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onRegister(\r\n      {password, email}\r\n    )\r\n  }\r\n  return (\r\n    <section\r\n      className='authorization'\r\n    >\r\n      <h2 className=\"authorization__title\">Регистрация</h2>\r\n      <form\r\n        id=\"register-form\"\r\n        className='authorization__form'\r\n        name='register__form'\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n          className=\"authorization__input\"\r\n          name=\"register-email\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={email}\r\n          onChange={handleChangeEmail}\r\n          required\r\n        />\r\n        <input\r\n          className=\"authorization__input\"\r\n          name=\"register-password\"\r\n          type=\"password\"\r\n          placeholder=\"Пароль\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={password}\r\n          onChange={handleChangePassword}\r\n          required\r\n        />\r\n        <button className=\"authorization__submit-button\" type=\"submit\">\r\n          Зарегистрироваться\r\n        </button>\r\n        <Link className=\"authorization__link\" to=\"/login\">\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </form>\r\n    </section>\r\n  )\r\n}","import React from \"react\";\r\nexport default function Login(props) {\r\n  const [password, setPassword] = React.useState('');\r\n  const [email, setEmail] = React.useState('');\r\n\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAuthorization(\r\n      {password, email }\r\n    )\r\n  }\r\n  return (\r\n    <section\r\n      className='authorization'\r\n    >\r\n      <h2 className=\"authorization__title\">Вход</h2>\r\n\r\n      <form\r\n        id=\"login-form\"\r\n        className='authorization__form authorization__form_login'\r\n        name='register__form'\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n          className=\"authorization__input\"\r\n          name=\"login-email\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={email}\r\n          onChange={handleChangeEmail}\r\n          required\r\n        />\r\n        <input\r\n          className=\"authorization__input\"\r\n          name=\"login-password\"\r\n          type=\"password\"\r\n          placeholder=\"Пароль\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={password}\r\n          onChange={handleChangePassword}\r\n          required\r\n        />\r\n\r\n        <button className=\"authorization__submit-button\" type=\"submit\">\r\n          Войти\r\n        </button>\r\n\r\n      </form>\r\n\r\n    </section>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/ok.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/error.d4ce2a26.svg\";","import ok from \"../images/ok.svg\";\r\nimport error from \"../images/error.svg\";\r\nexport function InfoToolTip(props){\r\n  return (\r\n    <section\r\n      className={`popup ${props.isOpen ? \"popup_opened\" : \" \"}`}\r\n      onClick={props.onPopupClick}\r\n    >\r\n      <div className=\"popup__content popup__content_infoToolTip\">\r\n        <img\r\n          className=\"popup__infoImage\"\r\n          src={props.isAuthorization ? ok : error}\r\n          alt={props.isAuthorization ? 'Вы успешно авторизировались' : 'Что-то пошло не так'}\r\n        />\r\n        <p className=\"popup__infoText\">{props.isAuthorization ? \"Вы успешно зарегистрировались!\"\r\n          : \"Что-то пошло не так! Попробуйте ещё раз.\"}\r\n        </p>\r\n        <button\r\n          className=\"popup__reset-button popup__reset-button_type_infoToolTip\"\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    props.loggedIn ? <Component {...props} /> : <Navigate to=\"/login\" />\r\n  );\r\n};\r\nexport default ProtectedRoute;\r\n","import Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Main from \"./Main\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport React from \"react\";\r\nimport { api } from '../utils/Api';\r\nimport { auth } from \"../utils/Auth\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport {  Route, Routes,  useNavigate, Navigate } from 'react-router-dom';\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport {InfoToolTip} from \"./InfoToolTip\"\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nfunction App() {\r\n  //переменные состояния видимости попапов\r\n  const [isEditProfilePopupOpen, setProfilePopupStatus] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setEditPopupStatus] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setAvatarPopupStatus] = React.useState(false);\r\n  const [isInfoPopupOpen, setInfoPopupStatus] = React.useState(false);\r\n  const [isRequestAuthStatus, setRequestAuthStatus] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [currentUser, setUser] = React.useState({ name: '', about: '', avatar: '' });\r\n  const [loggedIn, setLoggedStatus] = React.useState(false)\r\n  const [email, setEmail] = React.useState('')\r\n  const [cards, setCards] = React.useState([]);\r\n  const navigation = useNavigate();\r\n  \r\n  React.useEffect(() => {\r\n    function getInitialCards() {\r\n      api\r\n        .getInitialCards()\r\n        .then((res) => {\r\n          setCards(res);\r\n        })\r\n        .catch((err) => console.log(`Ошибка связи с сервером: ${err}`));\r\n    }\r\n    getInitialCards();\r\n  }, []);\r\n  \r\n  React.useEffect(() => {\r\n    function getInfoUser() {\r\n      api\r\n        .getInfoUserOfServ()\r\n        \r\n        .then((res) => {\r\n          setUser(res);\r\n        })\r\n\r\n        .catch((err) => console.log(`Ошибка связи с сервером: ${err}`));\r\n    }\r\n    getInfoUser();\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    function checkToken() {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        auth.getContent(token)\r\n          .then((res) => {\r\n            setLoggedStatus(true);\r\n            setEmail(res.data.email);\r\n          })\r\n          .catch(err => {\r\n            console.log(`Упс. Что-то пошло не так. Ошибка: ${err}`);\r\n          });\r\n      }\r\n    }\r\n    checkToken();\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (loggedIn === true) {\r\n      navigation('/')\r\n    }\r\n}, [loggedIn, navigation])\r\n\r\n  function handleRegisterFormSubmit(data) {\r\n    auth.register(data)\r\n      .then((res) => {\r\n        navigation('/login')\r\n        setRequestAuthStatus(true)\r\n      })\r\n      .catch((err) => {\r\n        setRequestAuthStatus(false)\r\n      })\r\n      .finally(() => {\r\n        setInfoPopupStatus(true)\r\n      })\r\n  }\r\n\r\n  function handleOnAuthorization(data) {\r\n    auth.authorize(data)\r\n      .then((res) => {\r\n        localStorage.setItem('token', res.token)\r\n        setLoggedStatus(true)\r\n        setEmail(data.email)\r\n        setRequestAuthStatus(true)\r\n        navigation('/')\r\n      })\r\n      .catch((err) => {\r\n        setRequestAuthStatus(false)\r\n        setInfoPopupStatus(true)\r\n      })\r\n  }\r\n  function handleUpdateUser(data) {\r\n    function setInfoUser() {\r\n      api\r\n        .setNewUserInfo(data)\r\n        .then((res) => {\r\n          setUser(res);\r\n          closeAllPopups();\r\n        })\r\n        .catch((err) => console.log(`Ошибка связи с сервером: ${err}`));\r\n    }\r\n    setInfoUser();\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    api\r\n      .setAvatar(avatar)\r\n      .then((avatar) => {\r\n        setUser(avatar);\r\n        closeAllPopups()\r\n      }\r\n      )\r\n      .catch((err) => {\r\n        console.log(`Ошибка связи с сервером: ${err}`);\r\n      })\r\n  }\r\n  function handleAddPlaceSubmit(newCard) {\r\n    api\r\n      .setNewCard(newCard)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка связи с сервером: ${err}`);\r\n      })\r\n  }\r\n\r\n  //объявляем функции обновления переменных состояния\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setProfilePopupStatus(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setEditPopupStatus(true);\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setAvatarPopupStatus(true);\r\n  }\r\n  function closeAllPopups() {\r\n    setProfilePopupStatus(false);\r\n    setEditPopupStatus(false);\r\n    setAvatarPopupStatus(false);\r\n    setInfoPopupStatus(false);\r\n    setRequestAuthStatus(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function handleClickPopup(evt) {\r\n    if (evt.target.classList.contains(\"popup_opened\")) {\r\n      closeAllPopups();\r\n      setSelectedCard(null);\r\n    }\r\n  }\r\n  React.useEffect(() => {\r\n    if (\r\n      isEditProfilePopupOpen ||\r\n      isAddPlacePopupOpen ||\r\n      isEditAvatarPopupOpen ||\r\n      isInfoPopupOpen\r\n    ) {\r\n      function handleEsc(evt) {\r\n        if (evt.key === \"Escape\") {\r\n          evt.preventDefault();\r\n          closeAllPopups();\r\n        }\r\n      }\r\n      document.addEventListener(\"keydown\", handleEsc);\r\n      return () => {\r\n        document.addEventListener(\"keydown\", handleEsc);\r\n      };\r\n    }\r\n  }, [isEditProfilePopupOpen, isAddPlacePopupOpen, isEditAvatarPopupOpen, isInfoPopupOpen]);\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api\r\n      .likeCard(card._id, isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка связи с сервером: ${err}`);\r\n      })\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(setCards(cards.filter(item => !(item._id === card._id))))\r\n      .catch((err) => {\r\n        console.log(`Ошибка связи с сервером: ${err}`);\r\n      })\r\n  }\r\n\r\n  function signOut() {\r\n    localStorage.removeItem('token');\r\n    auth.getContent('')\r\n      .catch((err) => {    //убеждаемся, что сервер нас не может авторизовать\r\n        setLoggedStatus(false);\r\n        navigation('/login');\r\n      })\r\n  }\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Routes>\r\n          <Route path=\"/\" element={\r\n            <>\r\n              <Header loggedIn={loggedIn} email={email} signOut={signOut} linkName='Выйти' to=\"/login\" />\r\n              <ProtectedRoute\r\n              loggedIn={loggedIn}\r\n              component={Main}\r\n                onEditProfile={handleEditProfileClick}\r\n                onAddPlace={handleAddPlaceClick}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onCardClick={handleCardClick}\r\n                cards={cards}\r\n                onCardLike={handleCardLike}\r\n                onCardDelete={handleCardDelete}\r\n              />\r\n              <Footer />\r\n            </>\r\n          } />\r\n\r\n          <Route path=\"/login\" element={\r\n            <>\r\n              <Header loggedIn={loggedIn} linkName='Регистрация' to='/register' />\r\n              <Login onAuthorization={handleOnAuthorization} />\r\n            </>\r\n          } />\r\n\r\n          <Route path=\"/register\" element={\r\n            <>\r\n              <Header loggedIn={loggedIn} linkName='Войти' to='/login' />\r\n              <Register onRegister={handleRegisterFormSubmit} />\r\n            </>\r\n          } />\r\n          <Route path=\"*\" element={<Navigate to=\"/\" />} />\r\n        </Routes>\r\n        <InfoToolTip isOpen={isInfoPopupOpen} isAuthorization={isRequestAuthStatus} onPopupClick={handleClickPopup} onClose={closeAllPopups}\r\n        />\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          onClose={closeAllPopups}\r\n          onPopupClick={handleClickPopup}\r\n        />\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onClickPopup={handleClickPopup}\r\n          onAddPlace={handleAddPlaceSubmit} />\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onClickPopup={handleClickPopup}\r\n          onUpdateUser={handleUpdateUser} />\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onClickPopup={handleClickPopup}\r\n          onUpdateAvatar={handleUpdateAvatar} />\r\n        <PopupWithForm\r\n          isClose={closeAllPopups}\r\n          onClickPopup={handleClickPopup}\r\n          name=\"delete-card\"\r\n          title=\"Вы уверены?\"\r\n          titleOfButton=\"Да\"\r\n        ></PopupWithForm>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n       <BrowserRouter basename='/react-mesto-auth'>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}